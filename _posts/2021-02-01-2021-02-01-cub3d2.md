---
layout: single
title: "[cub3D] MiniLibX에 대해 알아보자"
categories: "cub3D"
tags: [cub3D, C]
---

42에서 제공하는 MiniLibX는 간단한 윈도우 인터페이스 라이브러리이다.  
인트라의 cub3D 프로젝트 페이지에서 압축파일을 2개 다 다운받을 수 있다.

```
man minilibx_mms_20200219/man/man3/파일이름
```

매뉴얼에 나와있는 함수들을 하나씩 살펴보자.
나는 맥OS로 진행하므로 맥OS 기준으로 작성할 것이다.

1. mlx_init() - 디스플레이와 연결 함수

```c
 #include <mlx.h>

void	*mlx_init ();
```

MiniLibX로 쉽게 그래픽 소프트웨어를 만들 수 있다. 유닉스/리눅스 체제 하에서 Window/X11 프로그래밍에 대한 지식이나 맥OS에서 AppKit 프로그래밍에 대한 지식 없이도 가능하다. MiniLibX는 간단한 윈도우 생성, 그리기 도구, 이미지 그리고 기본적인 이벤트 관리를 제공한다.

MacOS: 윈도우 서버와 GPU
소프트웨어는 윈도우 서버와 직접적으로 상호작용한다. 윈도우 서버는 화면 상에서 다른 소프트웨어나 이벤트 시스템과의 공동 생활을 핸들링한다.
소프트웨어는 또 GPU와도 상호작용하여 모든 그리기 도구들을 핸들링하게 된다.

- 가장 먼저, 소프트웨어와 디스플레이 간에 연결을 초기화 해주어야 한다.
- 연결을 한 후에 다른 MiniLibX 함수들을 사용해 디스플레이에 메시지를 전송하거나 전송받을 수 있다. 예) "이 창(윈도우)에 노란색 픽셀을 그리고 싶어", "유저가 키를 입력했니?"
- **mlx_init**이 바로 이 연결을 생성하는 함수이다.
- 리턴값: 디스플레이와의 연결 설정에 실패 시 NULL 리턴, 성공 시 non-null 포인터가 connection identifier로서 리턴된다.

MiniLibX 함수들을 사용하기 위해서는, 소프트웨어와 MiniLibX를 포함한 여러 라이브러리들을 링크해주어야 한다.

On MacOS, the dynamic Metal library will find on its own the missi
ng components:

```
-lmlx
```

and still on MacOS, the static OpenGL version will need:

```
-lmlx -framework OpenGL -framework AppKit -lz
```

또한,

```
-L
```

플래그를 이용해 이 라이브러리들에 대한 path를 명시해주어야 한다.

2.
